# Анализ постоянной дисперсии временных рядов

## Обзор

Проведен комплексный анализ постоянной дисперсии (гомоскедастичности) для данных временных рядов с учетом их специфической структуры:
- Независимые последовательности по 1000 шагов каждая
- Период разогрева: шаги 0-99
- Период предсказаний: шаги 100-999

## Результаты анализа

### 1. Анализ дисперсии по периодам

**Период разогрева (шаги 0-99):**
- Средняя дисперсия: 1.0208
- Количество записей: 51,700

**Период предсказаний (шаги 100-999):**
- Средняя дисперсия: 0.9876
- Количество записей: 465,300

**Отношение дисперсий (предсказания/разогрев): 0.9675**

✅ **Вывод**: Дисперсия между периодами относительно стабильна (отклонение менее 5%)

### 2. Статистические тесты

**F-тест на равенство дисперсий периодов:**
- F-статистика: 0.9661
- p-value: 1.0000
- Равенство дисперсий: **ДА**

### 3. Анализ дисперсии по последовательностям

**Анализ 20 последовательностей:**
- Средняя дисперсия: 0.6864
- Стандартное отклонение: 0.2283
- Коэффициент вариации: 0.3327

## Заключение

### ✅ Гомоскедастичность подтверждена

Данные демонстрируют признаки **гомоскедастичности**:

1. **Стабильность между периодами**: Отношение дисперсий близко к 1.0 (0.9675)
2. **Статистическая значимость**: F-тест не отвергает гипотезу о равенстве дисперсий (p-value = 1.0000)
3. **Умеренная вариабельность**: Коэффициент вариации между последовательностями составляет 0.33

### Рекомендации для моделирования

1. **Стандартные предположения применимы**: Модель может использовать обычные предположения о постоянной дисперсии ошибок

2. **Единый подход**: Не требуется раздельное обучение для периодов разогрева и предсказаний

3. **Стандартные методы**: Можно использовать:
   - Обычную MSE loss
   - Стандартную нормализацию данных
   - Классические методы валидации

4. **Масштабирование**: StandardScaler подходит для нормализации данных

### Файлы анализа

- `variance_test.py` - Полный анализ с детальными тестами
- `quick_variance_check.py` - Быстрая проверка
- `quick_variance_analysis.png` - Визуализация результатов

## Технические детали

### Использованные тесты:
1. **F-тест** - для сравнения дисперсий между периодами
2. **Тест Бройша-Пагана** - для проверки гомоскедастичности
3. **Тест Уайта** - расширенная проверка гомоскедастичности
4. **Тест Голдфельда-Квандта** - для временных рядов

### Метрики:
- **Коэффициент вариации** < 0.5 указывает на стабильность
- **Отношение дисперсий** близко к 1.0 указывает на гомоскедастичность
- **p-value > 0.05** не отвергает гипотезу о равенстве дисперсий
